{"version":3,"sources":["../src/moz_build_info.js"],"names":[],"mappings":";;;;;QAGgB,eAAe,GAAf,eAAe;;;;;QAoBf,iBAAiB,GAAjB,iBAAiB;;;;;;;;;;;QAmBjB,SAAS,GAAT,SAAS;;;;;AAvClB,SAAS,eAAe,CAAC,EAAE,EAAE,OAAO,EAAE;AAC3C,MAAI,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;AACtC,WAAO,QAAQ,CAAC;GACjB;AACD,UAAQ,EAAE;AACR,SAAK,OAAO;AACV,aAAO,KAAK,CAAC;AAAA,AACf,SAAK,YAAY,CAAC;AAClB,SAAK,cAAc;AACjB,aAAO,SAAS,CAAC;AAAA,AACnB,SAAK,OAAO;AACV,aAAO,KAAK,CAAC;AAAA,AACf;AACE,YAAM,IAAI,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC;AAAA,GAC3C;CACF;;AAKM,SAAS,iBAAiB,CAAC,OAAO,EAAE,EAAE,EAAE;AAC7C,MAAI,MAAM,GAAG,AAAC,OAAO,KAAK,SAAS,IAAI,EAAE,KAAK,OAAO,GAAI,KAAK,GAAG,EAAE,CAAC;AACpE,MAAI,QAAQ,GAAG,eAAe,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;AAC5C,MAAI,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;;AAEtC,WAAO,QAAQ,CAAC;GACjB;AACD,cAAU,MAAM,SAAI,QAAQ,CAAG;CAChC;;AAWM,SAAS,SAAS,CAAC,OAAO,EAAE;AACjC,MAAI,MAAM,YAAA,CAAC;AACX,UAAQ,OAAO,CAAC,EAAE;AAChB,SAAK,OAAO;AACV,YAAM,GAAG,UAAU,CAAC;AACpB,YAAM;AAAA,AACR,SAAK,YAAY;AACf,YAAM,GAAG,OAAO,CAAC;AACjB,YAAM;AAAA,AACR,SAAK,cAAc;AACjB,YAAM,GAAG,SAAS,CAAC;AACnB,YAAM;AAAA,AACR,SAAK,OAAO;AACV,YAAM,GAAG,OAAO,CAAC;AACjB,YAAM;AAAA,AACR;AACE,YAAM,IAAI,KAAK,qBAAmB,OAAO,CAAC,EAAE,CAAG,CAAC;AAAA,GACnD;;AAED,UAAQ,OAAO,CAAC,OAAO;AACrB,SAAK,aAAa;AAChB,YAAM,IAAI,QAAQ,CAAC;AACnB,YAAM;AAAA,AACR,SAAK,SAAS;AACZ,YAAM;AAAA,AACR,SAAK,OAAO;AACV,YAAM,IAAI,QAAQ,CAAC;AACnB,YAAM;AAAA,AACR,SAAK,UAAU,CAAC;AAChB,SAAK,cAAc;AACjB,YAAM,GAAG,cAAc,CAAC;AACxB,YAAM;AAAA,AACR,SAAK,aAAa;AAChB,YAAM,GAAG,aAAa,CAAC;AACvB,YAAM;AAAA,AACR;AACE,YAAM,IAAI,KAAK,sBAAoB,OAAO,CAAC,OAAO,CAAG,CAAC;AAAA,GACzD;;AAED,MAAI,OAAO,CAAC,KAAK,EAAE;AACjB,UAAM,IAAI,QAAQ,CAAC;GACpB;;AAED,SAAO,MAAM,CAAC;CACf","file":"src/moz_build_info.js","sourcesContent":["/**\n * @return filetype the filetype mozilla uses for build archives on a given os.\n */\nexport function archiveFiletype(os, product) {\n  if (product.indexOf('emulator') !== -1) {\n    return 'tar.gz';\n  }\n  switch (os) {\n    case 'mac64':\n      return 'dmg';\n    case 'linux-i686':\n    case 'linux-x86_64':\n      return 'tar.bz2';\n    case 'win32':\n      return 'zip';\n    default:\n      throw new Error('Unsupported os ' + os);\n  }\n}\n\n/**\n * @return suffix end of filename (including filetype) for build archive.\n */\nexport function archiveFileSuffix(product, os) {\n  let ospart = (product === 'firefox' && os === 'mac64') ? 'mac' : os;\n  let filetype = archiveFiletype(os, product);\n  if (product.indexOf('emulator') !== -1) {\n    // emulator doen't have os in filename\n    return filetype;\n  }\n  return `${ospart}.${filetype}`;\n}\n\n/**\n * Options:\n *\n *   (String) debug\n *   (String) product\n *   (String) os\n *\n * @return name of build for os.\n */\nexport function buildname(options) {\n  let result;\n  switch (options.os) {\n    case 'mac64':\n      result = 'macosx64';\n      break;\n    case 'linux-i686':\n      result = 'linux';\n      break;\n    case 'linux-x86_64':\n      result = 'linux64';\n      break;\n    case 'win32':\n      result = 'win32';\n      break;\n    default:\n      throw new Error(`Unsupported os ${options.os}`);\n  }\n\n  switch (options.product) {\n    case 'b2g-desktop':\n      result += '_gecko';\n      break;\n    case 'firefox':\n      break;\n    case 'mulet':\n      result += '-mulet';\n      break;\n    case 'emulator':\n    case 'emulator-ics':\n      result = 'emulator-ics';\n      break;\n    case 'emulator-kk':\n      result = 'emulator-kk';\n      break;\n    default:\n      throw new Error(`Unknown product ${options.product}`);\n  }\n\n  if (options.debug) {\n    result += '-debug';\n  }\n\n  return result;\n}\n"]}